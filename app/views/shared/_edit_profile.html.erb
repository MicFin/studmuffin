<h1>Editing user</h1>

<%= form_for(@user) do |f| %>
  <% if @user.errors.any? %>
    <div id='error_explanation'>
      <h2><%= pluralize(@user.errors.count, 'error') %> prohibited this user from being saved:</h2>
      <ul>
        <% @user.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class='form-group'>
    <%= f.label :fullname %><br />
    <%= f.text_field :fullname %>
  </div>
  <div class='form-group'>
    <%= f.label :allergy %><br />
    <%= f.select :allergy_ids, Allergy.all.collect {|x| [x.name, x.id]}, {}, :size => Allergy.count, :multiple => true %>
  </div>
  <div class='form-group'>
    <%= f.label :email %><br />
    <%= f.text_field :email %>
  </div>
  <div class='form-group'>
    <%= f.label :user_avatar %>
    <%= f.file_field :avatar %>
  </div>

  <br />

  <%= button_tag( class: 'btn btn-default btn-lg') do %>
    <span class="glyphicon glyphicon-floppy-saved"></span> Save
  <% end %>

  <%= link_to root_path(anchor: 'profile'), method: :get, class: "btn btn-default btn-lg" do %>
    <span class= "glyphicon glyphicon-remove-circle"></span> Cancel
  <% end %>
<% end %>
